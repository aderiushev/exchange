rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Exchange Rates Collection
    // - Written by: Firebase Functions (Admin SDK - bypasses rules)
    // - Read by: React Native app (unauthenticated public read)
    match /exchangeRates/{rateId} {
      // Allow public read access for all users
      // This is safe because:
      // 1. Data is public exchange rates (not sensitive)
      // 2. Only Firebase Functions can write (Admin SDK bypasses rules)
      // 3. App doesn't have user authentication
      allow read: if true;

      // Deny all writes from clients
      // Only Firebase Functions (using Admin SDK) can write
      // Admin SDK bypasses these rules, so this blocks client writes
      allow write: if false;
    }
  }
}

